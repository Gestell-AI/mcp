{
  "$ref": "#/definitions/collection.id",
  "definitions": {
    "collection.id": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "enum": [
            "OK",
            "ERROR"
          ]
        },
        "message": {
          "type": "string"
        },
        "result": {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "Unique identifier for the collection."
                },
                "organizationId": {
                  "type": "string",
                  "description": "Identifier of the parent organization."
                },
                "name": {
                  "type": "string",
                  "description": "Display name of the collection."
                },
                "type": {
                  "type": "string",
                  "enum": [
                    "frame",
                    "searchable-frame",
                    "canon",
                    "features"
                  ],
                  "description": "The type of the collection."
                },
                "description": {
                  "type": "string",
                  "description": "Description of the collection's purpose."
                },
                "pii": {
                  "type": "boolean",
                  "description": "Whether this collection contains PII data."
                },
                "piiType": {
                  "type": "string",
                  "enum": [
                    "generic",
                    "legal",
                    "medical"
                  ],
                  "description": "Label indicating the type of PII in this collection."
                },
                "piiControls": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "enum": [
                      "Name",
                      "Geographic Data",
                      "Dates",
                      "Phone Number",
                      "Fax Number",
                      "Email Address",
                      "Social Security Number",
                      "Medical Record Number",
                      "Health Plan Beneficiary Number",
                      "Account Number",
                      "Certificate/License Number",
                      "Vehicle Identifier",
                      "Device Identifier",
                      "Web URL",
                      "IP Address",
                      "Biometric Identifier",
                      "Full-face Photograph",
                      "Unique Identifier Code"
                    ]
                  },
                  "description": "Array of control identifiers for PII handling UI."
                },
                "tags": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "description": "Tags associated with this collection for filtering/search."
                },
                "instructions": {
                  "type": "string",
                  "description": "General instructions for collection usage."
                },
                "graphInstructions": {
                  "type": "string",
                  "description": "Instructions specific to graph-based operations."
                },
                "promptInstructions": {
                  "type": "string",
                  "description": "Instructions for prompt-based interactions."
                },
                "searchInstructions": {
                  "type": "string",
                  "description": "Instructions for search operations."
                },
                "organization": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "description": {
                      "type": "string"
                    },
                    "plan": {
                      "type": "string",
                      "enum": [
                        "preview",
                        "developer",
                        "starter",
                        "scale",
                        "enterprise"
                      ]
                    },
                    "status": {
                      "type": "string"
                    },
                    "dateCreated": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "dateUpdated": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "members": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "accountId": {
                            "type": "string"
                          },
                          "role": {
                            "type": "string",
                            "enum": [
                              "member",
                              "admin"
                            ]
                          },
                          "organization": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "name": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              },
                              "plan": {
                                "$ref": "#/definitions/collection.id/properties/result/anyOf/0/properties/organization/properties/plan"
                              }
                            },
                            "required": [
                              "id",
                              "name",
                              "description",
                              "plan"
                            ],
                            "additionalProperties": false
                          },
                          "account": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "email": {
                                "type": "string"
                              },
                              "verified": {
                                "type": "boolean"
                              },
                              "dateCreated": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "dateUpdated": {
                                "type": "string",
                                "format": "date-time"
                              }
                            },
                            "required": [
                              "id",
                              "email",
                              "verified",
                              "dateCreated",
                              "dateUpdated"
                            ],
                            "additionalProperties": false
                          },
                          "dateCreated": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "dateUpdated": {
                            "type": "string",
                            "format": "date-time"
                          }
                        },
                        "required": [
                          "id",
                          "accountId",
                          "role",
                          "organization",
                          "account",
                          "dateCreated",
                          "dateUpdated"
                        ],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": [
                    "id",
                    "name",
                    "description",
                    "plan",
                    "status",
                    "dateCreated",
                    "dateUpdated"
                  ],
                  "additionalProperties": false,
                  "description": "Optional organization details that appears in when retrieving by id or in extended lists"
                },
                "categories": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "collectionId": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "content",
                          "concepts",
                          "features",
                          "table"
                        ]
                      },
                      "instructions": {
                        "type": "string"
                      },
                      "singleEntry": {
                        "type": "boolean"
                      },
                      "dateCreated": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "dateUpdated": {
                        "type": "string",
                        "format": "date-time"
                      }
                    },
                    "required": [
                      "id",
                      "collectionId",
                      "name",
                      "type",
                      "instructions",
                      "singleEntry",
                      "dateCreated",
                      "dateUpdated"
                    ],
                    "additionalProperties": false
                  },
                  "description": "Optional list of categories in this collection that appears when retrieving by id or in extended lists"
                },
                "documents": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "collectionId": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "layoutType": {
                        "type": "string",
                        "enum": [
                          "document",
                          "photo",
                          "audio",
                          "video"
                        ]
                      },
                      "layoutNodes": {
                        "type": "number"
                      },
                      "tables": {
                        "type": "boolean"
                      },
                      "instructions": {
                        "type": "string"
                      },
                      "job": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "collectionId": {
                            "type": "string"
                          },
                          "documentId": {
                            "type": "string"
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "processing",
                              "error",
                              "ready",
                              "cancelled",
                              "unprocessed",
                              "partial",
                              "all"
                            ]
                          },
                          "nodes": {
                            "$ref": "#/definitions/collection.id/properties/result/anyOf/0/properties/documents/items/properties/job/properties/status"
                          },
                          "edges": {
                            "$ref": "#/definitions/collection.id/properties/result/anyOf/0/properties/documents/items/properties/job/properties/status"
                          },
                          "vectors": {
                            "$ref": "#/definitions/collection.id/properties/result/anyOf/0/properties/documents/items/properties/job/properties/status"
                          },
                          "category": {
                            "$ref": "#/definitions/collection.id/properties/result/anyOf/0/properties/documents/items/properties/job/properties/status"
                          },
                          "message": {
                            "type": "string"
                          },
                          "document": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "collectionId": {
                                "type": "string"
                              },
                              "dateCreated": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "dateUpdated": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "name": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              },
                              "layoutType": {
                                "$ref": "#/definitions/collection.id/properties/result/anyOf/0/properties/documents/items/properties/layoutType"
                              },
                              "layoutNodes": {
                                "type": "number"
                              },
                              "instructions": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "id",
                              "collectionId",
                              "dateCreated",
                              "dateUpdated",
                              "name",
                              "type",
                              "layoutType",
                              "layoutNodes",
                              "instructions"
                            ],
                            "additionalProperties": false
                          },
                          "dateCreated": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "dateUpdated": {
                            "type": "string",
                            "format": "date-time"
                          }
                        },
                        "required": [
                          "id",
                          "collectionId",
                          "documentId",
                          "status",
                          "nodes",
                          "edges",
                          "vectors",
                          "category",
                          "message",
                          "dateCreated",
                          "dateUpdated"
                        ],
                        "additionalProperties": false
                      },
                      "layout": {
                        "anyOf": [
                          {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "position": {
                                  "type": "array",
                                  "minItems": 4,
                                  "maxItems": 4,
                                  "items": [
                                    {
                                      "type": "number"
                                    },
                                    {
                                      "type": "number"
                                    },
                                    {
                                      "type": "number"
                                    },
                                    {
                                      "type": "number"
                                    }
                                  ]
                                },
                                "type": {
                                  "anyOf": [
                                    {
                                      "type": "string",
                                      "const": "title"
                                    },
                                    {
                                      "type": "string",
                                      "const": "subtitle"
                                    },
                                    {
                                      "type": "string",
                                      "const": "list"
                                    },
                                    {
                                      "type": "string",
                                      "const": "text"
                                    },
                                    {
                                      "type": "string",
                                      "const": "table"
                                    },
                                    {
                                      "type": "string",
                                      "const": "image"
                                    },
                                    {
                                      "type": "string",
                                      "const": "csv"
                                    },
                                    {
                                      "type": "string"
                                    }
                                  ]
                                },
                                "content": {
                                  "type": "string"
                                },
                                "index": {
                                  "type": "number"
                                },
                                "page": {
                                  "type": "number"
                                }
                              },
                              "required": [
                                "position",
                                "type",
                                "content",
                                "index",
                                "page"
                              ],
                              "additionalProperties": false
                            }
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "position": {
                                  "$ref": "#/definitions/collection.id/properties/result/anyOf/0/properties/documents/items/properties/layout/anyOf/0/items/properties/position"
                                },
                                "description": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "position",
                                "description",
                                "type"
                              ],
                              "additionalProperties": false
                            }
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "index": {
                                  "type": "number"
                                },
                                "start": {
                                  "type": "string"
                                },
                                "end": {
                                  "type": "string"
                                },
                                "audio": {
                                  "type": "string"
                                },
                                "narration": {
                                  "type": "string"
                                },
                                "narrator": {
                                  "type": "string"
                                },
                                "objects": {
                                  "type": "array",
                                  "items": {
                                    "$ref": "#/definitions/collection.id/properties/result/anyOf/0/properties/documents/items/properties/layout/anyOf/1/items"
                                  }
                                }
                              },
                              "required": [
                                "index",
                                "start",
                                "end",
                                "audio",
                                "narration",
                                "narrator",
                                "objects"
                              ],
                              "additionalProperties": false
                            }
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "index": {
                                  "type": "number"
                                },
                                "start": {
                                  "type": "string"
                                },
                                "end": {
                                  "type": "string"
                                },
                                "narrator": {
                                  "type": "string"
                                },
                                "description": {
                                  "type": "string"
                                },
                                "content": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "index",
                                "start",
                                "end",
                                "narrator",
                                "description",
                                "content"
                              ],
                              "additionalProperties": false
                            }
                          }
                        ]
                      },
                      "metadata": {
                        "type": "object",
                        "properties": {
                          "size": {
                            "type": "number"
                          },
                          "pages": {
                            "type": "number"
                          },
                          "length": {
                            "type": "number"
                          }
                        },
                        "required": [
                          "size",
                          "pages",
                          "length"
                        ],
                        "additionalProperties": false
                      },
                      "dateCreated": {
                        "type": "string",
                        "format": "date-time"
                      },
                      "dateUpdated": {
                        "type": "string",
                        "format": "date-time"
                      }
                    },
                    "required": [
                      "id",
                      "collectionId",
                      "name",
                      "type",
                      "layoutType",
                      "layoutNodes",
                      "tables",
                      "instructions",
                      "dateCreated",
                      "dateUpdated"
                    ],
                    "additionalProperties": false
                  },
                  "description": "Optional list of documents within this collection that appears when retrieving by id or in extended lists"
                },
                "dateCreated": {
                  "anyOf": [
                    {
                      "type": "string",
                      "format": "date-time"
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "description": "Timestamp when the collection was created."
                },
                "dateUpdated": {
                  "anyOf": [
                    {
                      "type": "string",
                      "format": "date-time"
                    },
                    {
                      "type": "string"
                    }
                  ],
                  "description": "Timestamp when the collection was last updated."
                }
              },
              "required": [
                "id",
                "organizationId",
                "name",
                "type",
                "description",
                "pii",
                "piiType",
                "piiControls",
                "tags",
                "instructions",
                "graphInstructions",
                "promptInstructions",
                "searchInstructions",
                "dateCreated",
                "dateUpdated"
              ],
              "additionalProperties": false
            },
            {
              "type": "null"
            }
          ]
        },
        "stats": {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "docs": {
                  "type": "number"
                },
                "size": {
                  "type": "number"
                },
                "nodes": {
                  "type": "number"
                },
                "status": {
                  "type": "object",
                  "properties": {
                    "documents": {
                      "type": "number"
                    },
                    "nodes": {
                      "type": "number"
                    },
                    "edges": {
                      "type": "number"
                    },
                    "vectors": {
                      "type": "number"
                    },
                    "category": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "documents",
                    "nodes",
                    "edges",
                    "vectors",
                    "category"
                  ],
                  "additionalProperties": false
                }
              },
              "required": [
                "docs",
                "size",
                "nodes",
                "status"
              ],
              "additionalProperties": false
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": [
        "status",
        "result",
        "stats"
      ],
      "additionalProperties": false
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}